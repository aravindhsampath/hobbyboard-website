<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HobbyBoard - Documentation</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand" id="homeBtn">
        <div class="brand-mark">
          <span></span><span></span><span></span>
        </div>
        <a href="/" class="brand-text" style="text-decoration: none; color: inherit;">HobbyBoard</a>
      </div>

      <nav class="nav-links desktop-only">
        <a href="/docs.html" style="color: var(--text);">Docs</a>
        <a href="/about.html">About</a>
        <a href="/faq.html">FAQ</a>
        <a href="/contact.html">Contact</a>
      </nav>

      <div class="spacer" style="flex: 1;"></div>

      <div class="desktop-controls">
        <button id="themeToggleDesktop" class="icon-btn" title="Toggle Theme">
          <svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12Zm0-16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM3 11h1a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2Zm17 0h1a1 1 0 1 1 0 2h-1a1 1 0 1 1 0-2ZM5.05 5.05a1 1 0 0 1 1.41 0l.7.7a1 1 0 1 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41Zm12.79 12.79a1 1 0 0 1 1.41 0l.7.7a1 1 0 1 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41ZM19.95 5.05a1 1 0 0 1 0 1.41l-.7.7a1 1 0 0 1-1.41-1.41l.7-.7a1 1 0 0 1 1.41 0ZM7.16 17.84a1 1 0 0 1 0 1.41l-.7.7a1 1 0 1 1-1.41-1.41l.7-.7a1 1 0 0 1 1.41 0Z"></svg>
          <svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 14.2A7.6 7.6 0 0 1 9.8 3a8.9 8.9 0 1 0 11.2 11.2Z"></svg>
        </button>
      </div>

      <div class="mobile-controls">
        <button id="menuToggle" class="icon-btn" title="Menu">
          <svg viewBox="0 0 24 24" class="icon" stroke="currentColor" stroke-width="2" fill="none"><path d="M3 12h18M3 6h18M3 18h18"></svg>
        </button>
      </div>
    </header>

    <div id="drawer" class="drawer hidden">
      <div class="drawer-content">
        <div class="drawer-header">
          <h3>Menu</h3>
          <button id="drawerClose" class="close-btn">&times;</button>
        </div>
        <div class="drawer-body">
          <nav class="drawer-nav">
            <a href="/docs.html" class="nav-item">Docs</a>
            <a href="/about.html" class="nav-item">About</a>
            <a href="/faq.html" class="nav-item">FAQ</a>
            <a href="/contact.html" class="nav-item">Contact</a>
          </nav>
          <div class="setting-item">
            <label>Appearance</label>
            <button id="themeToggleMobile" class="btn-secondary mobile-theme-btn">
              <div class="theme-icon-wrap">
                <svg class="icon icon-sun" viewBox="0 0 24 24"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12Zm0-16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM3 11h1a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2Zm17 0h1a1 1 0 1 1 0 2h-1a1 1 0 1 1 0-2ZM5.05 5.05a1 1 0 0 1 1.41 0l.7.7a1 1 0 1 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41Zm12.79 12.79a1 1 0 0 1 1.41 0l.7.7a1 1 0 1 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41ZM19.95 5.05a1 1 0 0 1 0 1.41l-.7.7a1 1 0 0 1-1.41-1.41l.7-.7a1 1 0 0 1 1.41 0ZM7.16 17.84a1 1 0 0 1 0 1.41l-.7.7a1 1 0 1 1-1.41-1.41l.7-.7a1 1 0 0 1 1.41 0Z"></svg>
                <svg class="icon icon-moon" viewBox="0 0 24 24"><path d="M21 14.2A7.6 7.6 0 0 1 9.8 3a8.9 8.9 0 1 0 11.2 11.2Z"></svg>
              </div>
              <span id="themeToggleText">Dark Mode</span>
            </button>
          </div>
        </div>
      </div>
      <div id="drawerBackdrop" class="drawer-backdrop"></div>
    </div>

    <main class="content">
      <div class="docs-grid">
        <aside class="docs-sidebar">
          <div class="sidebar-sticky">
            <div class="sidebar-group">
              <span class="sidebar-title">Overview</span>
              <ul class="sidebar-links">
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#quick-start">Quick Start</a></li>
              </ul>
            </div>
            <div class="sidebar-group">
              <span class="sidebar-title">Setup</span>
              <ul class="sidebar-links">
                <li><a href="#installation">Installation Options</a></li>
                <li><a href="#configuration">Configuration (TOML)</a></li>
              </ul>
            </div>
            <div class="sidebar-group">
              <span class="sidebar-title">Deep Dive</span>
              <ul class="sidebar-links">
                <li><a href="#technical-design">Technical Design</a></li>
                <li><a href="#cli-reference">CLI Reference</a></li>
                <li><a href="#usage">Usage &amp; Workflow</a></li>
                <li><a href="#internals">How it Works</a></li>
              </ul>
            </div>
          </div>
        </aside>

        <article class="docs-content">
          <section id="introduction">
            <h1>Introduction</h1>
            <p class="lead">Hobbyboard turns folders of photos, sketches, and screenshots into a searchable archive with semantic search, enriched tags, and beautiful boards — all on your own machine.</p>
            
            <div class="callout info">
              <strong>Philosophy:</strong> Free as in beer and speech. Private by default. The AI/Vision model is used only once at image processing time to extract meaning; your data stays yours.
            </div>
          </section>

          <section id="quick-start">
            <h2>Quick Start</h2>
            <p>Get up and running in seconds. Select your platform below:</p>
            
            <div class="os-switcher" style="margin-bottom: 20px;">
              <button class="os-btn active" data-os="mac">
                <svg viewBox="0 0 384 512" class="os-icon" fill="currentColor"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"></svg>
                macOS
              </button>
              <button class="os-btn" data-os="linux">
                <svg viewBox="0 0 32 32" class="os-icon" fill="currentColor"><path d="M14.923 8.080c-0.025 0.072-0.141 0.061-0.207 0.082-0.059 0.031-0.107 0.085-0.175 0.085-0.062 0-0.162-0.025-0.17-0.085-0.012-0.082 0.11-0.166 0.187-0.166 0.050-0.024 0.108-0.037 0.169-0.037 0.056 0 0.109 0.011 0.157 0.032l-0.003-0.001c0.022 0.009 0.038 0.030 0.038 0.055 0 0.003-0 0.005-0.001 0.008l0-0v0.025h0.004zM15.611 8.080v-0.027c-0.008-0.025 0.016-0.052 0.036-0.062 0.046-0.020 0.1-0.032 0.157-0.032 0.061 0 0.119 0.014 0.17 0.038l-0.002-0.001c0.079 0 0.2 0.084 0.187 0.169-0.007 0.061-0.106 0.082-0.169 0.082-0.069 0-0.115-0.054-0.176-0.085-0.065-0.023-0.182-0.010-0.204-0.081zM16.963 10.058c-0.532 0.337-1.161 0.574-1.835 0.666l-0.024 0.003c-0.606-0.035-1.157-0.248-1.607-0.588l0.007 0.005c-0.192-0.167-0.35-0.335-0.466-0.419-0.205-0.167-0.18-0.416-0.092-0.416 0.136 0.020 0.161 0.167 0.249 0.25 0.12 0.082 0.269 0.25 0.45 0.416 0.397 0.328 0.899 0.541 1.45 0.583l0.009 0.001c0.654-0.057 1.249-0.267 1.763-0.592l-0.016 0.010c0.244-0.169 0.556-0.417 0.81-0.584 0.195-0.17 0.186-0.334 0.349-0.334 0.16 0.020 0.043 0.167-0.184 0.415-0.246 0.188-0.527 0.381-0.818 0.56l-0.044 0.025zM8.017 21.397h0.012c0.069 0 0.137 0.007 0.203 0.019l-0.007-0.001c0.544 0.14 0.992 0.478 1.273 0.931l0.005 0.009 1.137 2.079 0.004 0.004c0.457 0.773 0.948 1.442 1.497 2.059l-0.011-0.013c0.49 0.52 0.82 1.196 0.909 1.946l0.002 0.016v0.008c-0.012 0.817-0.613 1.491-1.396 1.616l-0.009 0.001c-0.2 0.031-0.432 0.048-0.667 0.048-0.857 0-1.659-0.233-2.347-0.64l0.021 0.012c-1.053-0.441-2.275-0.714-3.555-0.752l-0.015-0c-0.372-0.025-0.696-0.215-0.901-0.496l-0.002-0.003c-0.054-0.174-0.085-0.374-0.085-0.582 0-0.35 0.088-0.679 0.244-0.966l-0.005 0.011v-0.005l0.003-0.004c0.041-0.188 0.065-0.405 0.065-0.627 0-0.274-0.036-0.539-0.104-0.791l0.005 0.021c-0.041-0.15-0.065-0.323-0.065-0.502 0-0.242 0.043-0.473 0.123-0.687l-0.004 0.014c0.2-0.417 0.495-0.5 0.862-0.666 0.438-0.133 0.819-0.334 1.151-0.593l-0.008 0.006h0.002v-0.003c0.32-0.335 0.556-0.751 0.835-1.047 0.195-0.249 0.492-0.41 0.827-0.42l0.002-0zM21.531 21.336c-0.001 0.017-0.001 0.038-0.001 0.059 0 0.743 0.449 1.381 1.091 1.658l0.012 0.005c0.048 0.003 0.104 0.005 0.16 0.005 0.831 0 1.575-0.371 2.075-0.957l0.003-0.004 0.264-0.012c0.053-0.008 0.114-0.012 0.176-0.012 0.341 0 0.652 0.132 0.883 0.348l-0.001-0.001 0.004 0.004c0.249 0.301 0.422 0.673 0.487 1.082l0.002 0.013c0.055 0.505 0.238 0.96 0.517 1.34l-0.005-0.008c0.416 0.356 0.705 0.85 0.793 1.411l0.002 0.013 0.004-0.009v0.022l-0.004-0.015c-0.019 0.327-0.231 0.495-0.622 0.744-1.184 0.497-2.201 1.158-3.077 1.968l0.007-0.006c-0.608 0.792-1.501 1.339-2.523 1.486l-0.021 0.002c-0.074 0.010-0.16 0.016-0.247 0.016-0.768 0-1.428-0.464-1.716-1.126l-0.005-0.012-0.006-0.004c-0.093-0.286-0.146-0.615-0.146-0.956 0-0.416 0.079-0.813 0.224-1.178l-0.008 0.022c0.234-0.668 0.435-1.466 0.568-2.288l0.011-0.083c0.016-0.812 0.104-1.593 0.258-2.35l-0.014 0.083c0.085-0.518 0.381-0.954 0.794-1.225l0.007-0.004 0.056-0.027zM18.8 10.142c0.6 2.147 1.339 4.002 2.247 5.757l-0.079-0.167c0.613 1.090 1.090 2.355 1.363 3.695l0.014 0.084c0.009-0 0.020-0 0.031-0 0.217 0 0.427 0.029 0.627 0.084l-0.017-0.004c0.11-0.395 0.173-0.848 0.173-1.316 0-1.426-0.587-2.716-1.533-3.639l-0.001-0.001c-0.275-0.25-0.29-0.419-0.154-0.419 0.971 0.91 1.689 2.078 2.045 3.394l0.012 0.051c0.089 0.329 0.14 0.707 0.14 1.097 0 0.351-0.041 0.693-0.119 1.020l0.006-0.030c0.074 0.038 0.16 0.067 0.251 0.083l0.006 0.001c1.29 0.667 1.766 1.172 1.537 1.921v-0.054c-0.075-0.004-0.15 0-0.225 0h-0.020c0.189-0.584-0.227-1.031-1.331-1.53-1.143-0.5-2.057-0.42-2.212 0.581-0.011 0.049-0.019 0.106-0.022 0.165l-0 0.003c-0.073 0.030-0.16 0.058-0.25 0.078l-0.011 0.002c-0.508 0.336-0.87 0.859-0.989 1.469l-0.002 0.014c-0.148 0.695-0.241 1.5-0.256 2.323l-0 0.012v0.004c-0.091 0.637-0.23 1.207-0.418 1.753l0.020-0.066c-0.983 0.804-2.251 1.29-3.634 1.29-1.13 0-2.184-0.325-3.073-0.887l0.024 0.014c-0.146-0.253-0.313-0.472-0.503-0.667l0.001 0.001c-0.097-0.16-0.211-0.297-0.342-0.415l-0.002-0.001c0.207-0 0.407-0.031 0.596-0.088l-0.015 0.004c0.18-0.085 0.318-0.232 0.391-0.412l0.002-0.005c0.018-0.093 0.029-0.199 0.029-0.308 0-0.445-0.175-0.848-0.461-1.146l0.001 0.001c-0.619-0.761-1.359-1.395-2.196-1.88l-0.038-0.020c-0.671-0.388-1.179-0.995-1.43-1.722l-0.007-0.022c-0.093-0.318-0.147-0.684-0.147-1.062 0-0.353 0.047-0.695 0.134-1.021l-0.006 0.027c0.377-1.314 0.921-2.461 1.62-3.496l-0.028 0.043c0.134-0.081 0.046 0.169-0.51 1.217-0.474 0.713-0.757 1.59-0.757 2.533 0 0.84 0.224 1.627 0.616 2.306l-0.012-0.022c0.052-1.309 0.345-2.537 0.834-3.659l-0.025 0.065c1.055-1.902 1.854-4.111 2.275-6.452l0.020-0.131c0.060 0.045 0.271 0.169 0.361 0.252 0.272 0.166 0.475 0.416 0.737 0.581 0.267 0.26 0.633 0.42 1.035 0.42 0.021 0 0.042-0 0.063-0.001l-0.003 0c0.049 0.004 0.094 0.008 0.137 0.008 0.459-0.009 0.887-0.132 1.259-0.342l-0.013 0.007c0.362-0.167 0.65-0.417 0.925-0.5h0.006c0.535-0.145 0.983-0.454 1.3-0.869l0.004-0.006zM15.301 7.465c0.003 0 0.006-0 0.009-0 0.569 0 1.094 0.187 1.517 0.503l-0.007-0.005c0.378 0.234 0.814 0.433 1.275 0.574l0.040 0.010h0.004c0.246 0.11 0.449 0.281 0.594 0.494l0.003 0.005v-0.164c0.046 0.092 0.074 0.201 0.074 0.316 0 0.098-0.020 0.191-0.055 0.276l0.002-0.005c-0.288 0.507-0.755 0.884-1.313 1.048l-0.016 0.004v0.002c-0.335 0.169-0.626 0.416-0.968 0.581-0.35 0.21-0.771 0.334-1.222 0.334-0.015 0-0.030-0-0.045-0l0.002 0c-0.022 0.001-0.048 0.002-0.074 0.002-0.174 0-0.342-0.031-0.496-0.089l0.010 0.003c-0.159-0.087-0.29-0.169-0.417-0.257l0.014 0.010c-0.227-0.199-0.477-0.39-0.739-0.565l-0.026-0.016v-0.006h-0.006c-0.375-0.199-0.67-0.504-0.852-0.876l-0.005-0.012c-0.027-0.067-0.042-0.145-0.042-0.226 0-0.218 0.112-0.41 0.281-0.522l0.002-0.001c0.28-0.169 0.475-0.339 0.604-0.42 0.13-0.092 0.179-0.127 0.22-0.164h0.002v-0.004c0.268-0.339 0.623-0.599 1.032-0.746l0.016-0.005c0.174-0.050 0.374-0.079 0.581-0.081h0.001zM13.589 5.333h0.045c0.188 0.004 0.361 0.067 0.501 0.17l-0.002-0.002c0.179 0.159 0.325 0.352 0.425 0.57l0.004 0.011c0.113 0.245 0.183 0.53 0.191 0.83l0 0.003v0.005c0.004 0.046 0.006 0.099 0.006 0.152 0 0.063-0.003 0.126-0.009 0.188l0.001-0.008v0.1c-0.037 0.009-0.070 0.022-0.104 0.030-0.191 0.079-0.352 0.163-0.505 0.258l0.014-0.008c0.008-0.055 0.012-0.118 0.012-0.182 0-0.053-0.003-0.106-0.009-0.158l0.001 0.006v-0.019c-0.018-0.154-0.054-0.295-0.107-0.428l0.004 0.011c-0.041-0.132-0.113-0.244-0.207-0.333l-0-0c-0.055-0.050-0.128-0.081-0.209-0.081-0.007 0-0.014 0-0.021 0.001l0.001-0h-0.026c-0.103 0.011-0.189 0.075-0.232 0.163l-0.001 0.002c-0.077 0.093-0.13 0.208-0.15 0.334l-0 0.004c-0.023 0.086-0.035 0.185-0.035 0.287 0 0.044 0.002 0.088 0.007 0.131l-0-0.005v0.019c0.016 0.154 0.052 0.296 0.104 0.428l-0.004-0.011c0.042 0.132 0.113 0.245 0.207 0.335l0 0c0.012 0.012 0.026 0.022 0.042 0.030l0.001 0c-0.083 0.053-0.155 0.109-0.221 0.171l0.001-0.001c-0.045 0.040-0.1 0.070-0.161 0.084l-0.003 0.001c-0.123-0.147-0.237-0.312-0.335-0.486l-0.008-0.016c-0.113-0.245-0.183-0.529-0.194-0.83l-0-0.004c-0.004-0.048-0.006-0.104-0.006-0.161 0-0.241 0.039-0.473 0.11-0.69l-0.004 0.016c0.074-0.258 0.195-0.481 0.356-0.671l-0.002 0.003c0.127-0.15 0.313-0.245 0.522-0.25h0.001zM17.291 5.259h0.016c0.001 0 0.002 0 0.004 0 0.275 0 0.527 0.093 0.729 0.249l-0.003-0.002c0.229 0.177 0.413 0.4 0.542 0.655l0.005 0.011c0.121 0.266 0.196 0.575 0.207 0.901l0 0.004c0-0.025 0.007-0.050 0.007-0.075v0.131l-0.005-0.026-0.005-0.030c-0.003 0.32-0.071 0.622-0.193 0.897l0.006-0.014c-0.062 0.163-0.152 0.303-0.266 0.419l0-0c-0.030-0.018-0.067-0.035-0.104-0.050l-0.006-0.002c-0.135-0.042-0.253-0.099-0.36-0.169l0.005 0.003c-0.077-0.032-0.169-0.060-0.264-0.081l-0.011-0.002c0.081-0.076 0.156-0.157 0.225-0.243l0.004-0.005c0.063-0.148 0.102-0.319 0.11-0.499l0-0.003v-0.025c0-0.008 0-0.016 0-0.025 0-0.17-0.028-0.333-0.080-0.485l0.003 0.011c-0.063-0.159-0.14-0.296-0.232-0.421l0.004 0.005c-0.087-0.088-0.202-0.148-0.331-0.165l-0.003-0h-0.020c-0.001 0-0.003-0-0.004-0-0.132 0-0.25 0.065-0.322 0.164l-0.001 0.001c-0.116 0.113-0.204 0.253-0.254 0.41l-0.002 0.007c-0.063 0.147-0.104 0.318-0.112 0.496l-0 0.003v0.024c0.002 0.12 0.011 0.236 0.027 0.349l-0.002-0.015c-0.241-0.084-0.547-0.169-0.759-0.252-0.012-0.073-0.020-0.159-0.022-0.247l-0-0.003v-0.025c-0.001-0.020-0.001-0.043-0.001-0.066 0-0.324 0.069-0.631 0.194-0.908l-0.006 0.014c0.106-0.279 0.293-0.508 0.532-0.663l0.005-0.003c0.204-0.156 0.462-0.25 0.742-0.25h0"></svg>
                Linux
              </button>
              <button class="os-btn" data-os="windows">
                <svg viewBox="0 0 1920 1920" class="os-icon" fill="currentColor"><path d="M1863.53 1016.437c31.171 0 56.47 25.299 56.47 56.47v790.589c0 16.376-7.115 31.849-19.313 42.465-10.39 9.149-23.605 14.005-37.158 14.005-2.484 0-5.082-.113-7.567-.452l-903.53-123.331c-28.008-3.84-48.903-27.784-48.903-56.02v-667.256c0-31.171 25.3-56.47 56.471-56.47Zm-1129.412 0c31.171 0 56.47 25.299 56.47 56.47v634.504c0 16.376-7.115 31.85-19.426 42.579-10.39 9.035-23.491 13.891-37.044 13.891-2.485 0-5.196-.113-7.68-.564L48.79 1669.35C20.78 1665.51 0 1641.68 0 1613.444v-540.537c0-31.171 25.299-56.47 56.47-56.47Zm-7.726-859.855c16.151-2.372 32.415 2.597 44.725 13.327 12.424 10.73 19.426 26.315 19.426 42.579V846.99c0 31.285-25.186 56.47-56.47 56.47H56.424c-31.171 0-56.47-25.185-56.47-56.47V306.455c0-28.123 20.781-52.066 48.79-55.906ZM1855.974.474c16.15-2.033 32.414 2.71 44.724 13.44 12.198 10.73 19.313 26.203 19.313 42.466v790.588c0 31.285-25.299 56.471-56.47 56.471H960.01c-31.171 0-56.47-25.186-56.47-56.47V179.711c0-28.235 20.78-52.066 48.903-55.906Z" fill-rule="evenodd"></svg>
                Windows
              </button>
            </div>

            <div class="install-content" id="install-mac">
              <div class="install-option">
                <h4>Option 1: Homebrew (Recommended)</h4>
                <div class="code-block">
                  <div class="code-header">Terminal</div>
                  <pre><code>brew tap aravindhsampath/tap
brew install hobbyboard
hobbyboard
# Open http://localhost:9625</code></pre>
                  <button class="copy-btn" title="Copy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                </div>
              </div>
              <div class="install-option">
                <h4>Option 2: Docker Compose</h4>
                <div class="code-block">
                  <div class="code-header">Terminal</div>
                  <pre><code>curl -O https://raw.githubusercontent.com/aravindhsampath/hobbyboard/main/docker-compose.yml
docker compose up -d
# Open http://localhost:9625</code></pre>
                  <button class="copy-btn" title="Copy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                </div>
              </div>
            </div>

            <div class="install-content hidden" id="install-linux">
              <div class="install-option">
                <h4>Docker Compose</h4>
                <div class="code-block">
                  <div class="code-header">Terminal</div>
                  <pre><code>curl -O https://raw.githubusercontent.com/aravindhsampath/hobbyboard/main/docker-compose.yml
docker compose up -d
# Open http://localhost:9625</code></pre>
                  <button class="copy-btn" title="Copy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                </div>
              </div>
            </div>

            <div class="install-content hidden" id="install-windows">
              <div class="install-option">
                <h4>Docker Compose</h4>
                <div class="code-block">
                  <div class="code-header">PowerShell</div>
                  <pre><code>curl -O https://raw.githubusercontent.com/aravindhsampath/hobbyboard/main/docker-compose.yml
docker compose up -d
# Open http://localhost:9625</code></pre>
                  <button class="copy-btn" title="Copy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                </div>
              </div>
            </div>
          </section>

          <hr class="docs-divider">

          <section id="installation">
            <h2>Installation Options</h2>
            <p>Hobbyboard offers flexibility for every type of user. Other installation options are listed below.</p>
            <div class="callout info">
              <strong>Recommendation:</strong> Use your OS package manager when available. It is the easiest way to receive updates automatically.
            </div>
            
            <h3>1. Package Managers (Recommended)</h3>
            <p>Use your OS package manager (brew, yum, apt, pacman). Example with Homebrew:</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>brew tap aravindhsampath/tap
brew install hobbyboard</code></pre>
            </div>

            <h3>2. Docker Compose (Dependencies Pre-installed)</h3>
            <p>Easiest container setup with Qdrant bundled via compose.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>curl -O https://raw.githubusercontent.com/aravindhsampath/hobbyboard/main/docker-compose.yml
docker compose up qdrant -d
docker compose up -d
# Open http://localhost:9625</code></pre>
            </div>

            <h3>3. Docker Image Direct</h3>
            <p>Run the official image without compose. Start Qdrant first, then Hobbyboard:</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>docker run -d --name hobbyboard-qdrant \
  --restart unless-stopped \
  -p 6333:6333 -p 6334:6334 \
  -v $(pwd)/qdrant_storage:/qdrant/storage:z \
  qdrant/qdrant:latest

docker run -d --name hobbyboard-app \
  --restart unless-stopped \
  --add-host=host.docker.internal:host-gateway \
  -p 9625:9625 \
  -v $(pwd):/app \
  -v /app/frontend \
  -v $(pwd)/raw_images:/app/raw_images \
  -v $(pwd)/dist:/app/dist \
  ghcr.io/aravindhsampath/hobbyboard:latest
# Open http://localhost:9625</code></pre>
            </div>

            <h3>4. Pre-built Binaries</h3>
            <p>Download the latest release for your OS. <strong>Note:</strong> Requires <code>ffmpeg</code> and <code>libheif</code> to be installed on your system.</p>
            <table class="params-table">
              <thead>
                <tr>
                  <th>Platform</th>
                  <th>Dependencies Command</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>macOS</td>
                  <td><code>brew install ffmpeg libheif</code></td>
                </tr>
                <tr>
                  <td>Ubuntu/Debian</td>
                  <td><code>sudo apt install ffmpeg libheif-dev</code></td>
                </tr>
                <tr>
                  <td>Windows</td>
                  <td>Install via Winget or Chocolatey.</td>
                </tr>
              </tbody>
            </table>

            <h3>5. Build from Source (Cargo)</h3>
            <p>For developers who want the latest changes. Requires Rust toolchain.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>git clone https://github.com/aravindhsampath/hobbyboard.git
cd hobbyboard
cargo build --release
./target/release/hobbyboard serve</code></pre>
            </div>
          </section>

          <hr class="docs-divider">

          <section id="configuration">
            <h2>Configuration</h2>
            <p>Hobbyboard is configured via a <code>hobbyboard.toml</code> file. On first launch, a default file is created in your working directory.</p>
            <p>Most knobs you want to turn live here. Customize away.</p>
            
            <h3>Configuration Reference</h3>
            <table class="params-table">
              <thead>
                <tr>
                  <th>Section</th>
                  <th>Setting</th>
                  <th>What it does</th>
                  <th>Default</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>[paths]</strong></td>
                  <td><code>raw_media_dir</code></td>
                  <td>Your image hoard location. Read-only (we promise).</td>
                  <td><code>"raw_images"</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>dist_dir</code></td>
                  <td>Where we dump thumbnails, DBs, and metadata.</td>
                  <td><code>"dist"</code></td>
                </tr>
                <tr>
                  <td><strong>[ai]</strong></td>
                  <td><code>provider</code></td>
                  <td><code>ollama</code> (free/slow), <code>openai</code>, or <code>gemini</code>.</td>
                  <td><code>"ollama"</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>vision_model</code></td>
                  <td>The eyes. e.g., <code>qwen3-vl:8b</code>, <code>gemini-3-flash-preview</code>, <code>gpt-5-mini</code>.</td>
                  <td><code>"qwen3-vl:8b"</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>embedding_model</code></td>
                  <td>Text-to-vector model loaded in-memory by Hobbyboard.</td>
                  <td><code>"mxbai-embed-large-v1"</code></td>
                </tr>
                <tr>
                  <td><strong>[server]</strong></td>
                  <td><code>host</code></td>
                  <td><code>0.0.0.0</code> to expose to your LAN.</td>
                  <td><code>"0.0.0.0"</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>port</code></td>
                  <td>Why 9625? I mashed the numpad.</td>
                  <td><code>9625</code></td>
                </tr>
                <tr>
                  <td><strong>[search]</strong></td>
                  <td><code>vector_weight</code></td>
                  <td>0.0–1.0. Higher = more concept/vibe matching.</td>
                  <td><code>0.7</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>fts_weight</code></td>
                  <td>0.0–1.0. Higher = exact keyword matching.</td>
                  <td><code>0.3</code></td>
                </tr>
                <tr>
                  <td><strong>[search.fts_weights]</strong></td>
                  <td><code>manual_tags</code></td>
                  <td>Multiplier. If you typed it, it matters more.</td>
                  <td><code>2.0</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>user_notes</code></td>
                  <td>Multiplier. Your notes matter too.</td>
                  <td><code>2.0</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>caption</code></td>
                  <td>Multiplier. AI description weight.</td>
                  <td><code>1.0</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>auto_tags</code></td>
                  <td>Multiplier. AI tags weight.</td>
                  <td><code>1.0</code></td>
                </tr>
                <tr>
                  <td></td>
                  <td><code>ocr</code></td>
                  <td>Multiplier. Text found inside images.</td>
                  <td><code>0.8</code></td>
                </tr>
              </tbody>
            </table>

            <h3>Notes on AI Configuration</h3>
            <p>Vision models are configured via <code>[ai].vision_model</code>. You can customize <code>[ai].prompt_analysis</code> for domain-specific indexing.</p>
            <table class="params-table">
              <thead>
                <tr>
                  <th>Provider</th>
                  <th>Recommended Model</th>
                  <th>Use Case</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Ollama</strong></td>
                  <td><code>qwen3-vl:8b</code></td>
                  <td>Slow but local performance and privacy.</td>
                </tr>
                <tr>
                  <td><strong>OpenAI</strong></td>
                  <td><code>gpt-5-mini</code></td>
                  <td>High accuracy, low cost, requires API key.</td>
                </tr>
                <tr>
                  <td><strong>Gemini</strong></td>
                  <td><code>gemini-3-flash-preview</code></td>
                  <td>Excellent OCR and fast processing.</td>
                </tr>
              </tbody>
            </table>

            <p>Embedding models run locally via <code>fastembed-rs</code> and are set via <code>[ai].embedding_model</code>.</p>
            <table class="params-table">
              <thead>
                <tr>
                  <th>Model</th>
                  <th>Dimensions</th>
                  <th>Size</th>
                  <th>Latency (Apple Silicon M2)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>nomic-embed-text-v1.5</strong></td>
                  <td>768</td>
                  <td>~275 MB</td>
                  <td>14 ms</td>
                </tr>
                <tr>
                  <td><strong>mxbai-embed-large-v1</strong></td>
                  <td>1024</td>
                  <td>~670 MB</td>
                  <td>34 ms</td>
                </tr>
                <tr>
                  <td><strong>Alibaba-NLP/gte-large-en-v1.5</strong></td>
                  <td>1024</td>
                  <td>~1.6 GB</td>
                  <td>42 ms</td>
                </tr>
              </tbody>
            </table>
          </section>

          <hr class="docs-divider">

          <section id="technical-design">
            <h2>Technical Design</h2>
            <p>This section explains the end-to-end architecture and the image lifecycle. It is written for engineers who care about self-hosting, privacy, and how the pipeline is actually wired.</p>

            <h3>System Orientation</h3>
            <ul>
              <li><strong>Binary entrypoint:</strong> <code>src/main.rs</code> (CLI commands: setup, init, build, serve, export).</li>
              <li><strong>Auto-dispatch:</strong> On start, HobbyBoard decides whether to serve, run onboarding, or initialize based on config and DB presence.</li>
              <li><strong>Core modules:</strong> config/logging, media ingestion, AI, DB, ops pipeline, server/API, and the embedded UI.</li>
            </ul>

            <h3>User Action Flow (first run)</h3>
            <ol>
              <li>Run <code>hobbyboard</code> → onboarding server starts.</li>
              <li>Diagnostics check dependencies (ffmpeg, libheif, Qdrant).</li>
              <li>Configure AI provider, media path, and embedding model.</li>
              <li>Write <code>hobbyboard.toml</code> + <code>.env</code>, then init + build.</li>
              <li>Server restarts into normal serve mode.</li>
            </ol>
            <div class="callout info">
              <strong>Artifacts created:</strong> <code>hobbyboard.toml</code>, <code>.env</code>, <code>dist/</code>, SQLite DB, Qdrant collection.
            </div>

            <h3>Image Lifecycle</h3>
            <ul>
              <li><strong>Scan:</strong> Walk the media directory, hash files, and upsert into <code>items</code>.</li>
              <li><strong>Process:</strong> Create variants, transcode video, generate thumbnails, and write to <code>dist/</code>.</li>
              <li><strong>AI + Embedding:</strong> Run vision analysis, extract tags/OCR, embed text, and upsert vectors in Qdrant.</li>
              <li><strong>Catalog:</strong> Regenerate <code>dist/data/catalog.json</code> used by the UI for fast listing.</li>
            </ul>

            <h3>Search &amp; Retrieval</h3>
            <ul>
              <li><strong>Semantic search:</strong> Query text is embedded locally and searched in Qdrant.</li>
              <li><strong>Text search:</strong> SQLite FTS5 (bm25) searches OCR, captions, and notes.</li>
              <li><strong>Fusion:</strong> Vector and FTS scores are normalized and merged using config weights.</li>
            </ul>

            <h3>Data Model (SQLite)</h3>
            <ul>
              <li><strong>items</strong>: file registry, paths, variants, dimensions.</li>
              <li><strong>generated_metadata</strong>: AI output (title, caption, tags, OCR).</li>
              <li><strong>user_tags</strong>, <strong>user_notes</strong>: manual inputs (preserved on refresh).</li>
              <li><strong>boards</strong>, <strong>board_items</strong>: collections.</li>
              <li><strong>media_search_fts</strong>: FTS index.</li>
              <li><strong>system_info</strong>: embedding model and dimension integrity.</li>
            </ul>

            <h3>Operational Invariants</h3>
            <ul>
              <li><strong>Embedding model integrity:</strong> serve refuses to start if model differs from DB.</li>
              <li><strong>Content hash identity:</strong> same file content = same ID (dedupe by hash).</li>
              <li><strong>Catalog is authoritative:</strong> UI list is driven by <code>catalog.json</code>.</li>
            </ul>

            <h3>Failure Modes (and what happens)</h3>
            <ul>
              <li><strong>Missing ffmpeg/libheif:</strong> video transcode or HEIC/AVIF decode is skipped; build continues with warnings.</li>
              <li><strong>AI provider errors:</strong> metadata extraction fails and item is rolled back.</li>
              <li><strong>Qdrant down:</strong> semantic search degrades or fails; SQLite search still works.</li>
              <li><strong>Refresh build:</strong> generated metadata is reset; manual tags remain (may be orphaned without FK).</li>
            </ul>

            <h3>Code Entry Points</h3>
            <ul>
              <li><code>src/main.rs</code> — CLI dispatch + auto-start.</li>
              <li><code>src/ops/library.rs</code> — scan/process/AI pipeline.</li>
              <li><code>src/media/*</code> — image/video processing.</li>
              <li><code>src/ai/client.rs</code> — AI API + schema handling.</li>
              <li><code>src/server/handlers.rs</code> — HTTP endpoints.</li>
              <li><code>frontend/app.js</code> — UI interactions.</li>
            </ul>
          </section>

          <hr class="docs-divider">

          <section id="usage">
            <h2>Usage &amp; Workflow</h2>
            <p>Hobbyboard operates in two main modes: the <strong>CLI</strong> (for management) and the <strong>Web UI</strong> (for browsing).</p>

            <h3>The Workflow</h3>
            <div class="callout info">
              <strong>1. Scan</strong> &rarr; <strong>2. Process</strong> &rarr; <strong>3. Serve</strong>
            </div>
            
            <h3>Behind the Curtains</h3>
            <ul>
              <li><strong>Processing:</strong> When you start Hobbyboard, it scans <code>raw_media_dir</code>. New files are hashed to detect duplicates.</li>
              <li><strong>OCR &amp; Vision:</strong> Images are passed through OCR (to read text) and a Vision LLM (to describe the scene). This metadata is stored in <strong>SQLite</strong>.</li>
              <li><strong>Vector Search:</strong> The descriptions and OCR text are converted into vectors using a local embedding model and stored in <strong>Qdrant</strong> (embedded). This allows for "vibe-based" semantic search.</li>
            </ul>

            <h3 id="cli-reference">HobbyBoard CLI Reference</h3>
            <p>HobbyBoard is designed as a single-binary orchestrator. The CLI handles everything from system diagnostics to AI-heavy ingestion and high-performance serving.</p>

            <h4>Core Workflow</h4>
            <p>The standard lifecycle for a HobbyBoard library follows this sequence:</p>
            <div class="callout info">
              <strong>setup</strong> (Diagnostics) &rarr; <strong>init</strong> (Infrastructure) &rarr; <strong>build</strong> (Ingestion) &rarr; <strong>serve</strong> (Operation)
            </div>

            <hr class="docs-divider">

            <h4>1. System Diagnostics (setup)</h4>
            <p>Before initializing a library, use the setup command to verify native dependencies. HobbyBoard relies on ffmpeg for video processing and libheif for Apple/AVIF image support.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>hobbyboard setup</code></pre>
            </div>
            <ul>
              <li><strong>What it checks:</strong> Binary presence of ffmpeg, heif-info/heif-enc, and connectivity to the Qdrant gRPC/HTTP endpoints.</li>
              <li><strong>Setup Wizard:</strong> If run without a configuration file, HobbyBoard defaults to an interactive Web UI on port 9625 to help generate the initial <code>hobbyboard.toml</code>.</li>
            </ul>

            <hr class="docs-divider">

            <h4>2. Library Initialization (init)</h4>
            <p>Prepares the storage layer for a new library.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>hobbyboard init</code></pre>
            </div>
            <ul>
              <li><strong>SQLite:</strong> Creates <code>hobbyboard_data.db</code> and applies migrations (FTS5 tables, metadata schema).</li>
              <li><strong>Qdrant:</strong> Creates the collection and defines the vector distance metric (Cosine) and dimension size based on the selected embedding model.</li>
              <li><strong>Idempotency:</strong> Safe to run multiple times; it will not overwrite existing data unless the database file is manually removed.</li>
            </ul>

            <hr class="docs-divider">

            <h4>3. Ingestion &amp; Indexing (build)</h4>
            <p>The build phase is a multi-stage pipeline that is CPU and network bound.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>hobbyboard build [FLAGS]</code></pre>
            </div>

            <p><strong>Key Flags</strong></p>
            <ul>
              <li><code>--refresh</code>: Wipes all AI-generated metadata (descriptions, tags, embeddings) but preserves user data (manual tags, boards, notes). Useful when changing the AI system prompt or provider.</li>
              <li><code>--deep</code>: Forces a full SHA-256 re-hash of every file in the <code>raw_images</code> directory to detect bit-rot or content changes that haven't triggered a filesystem timestamp update.</li>
            </ul>

            <p><strong>Pipeline Stages</strong></p>
            <ol>
              <li><strong>Scanner:</strong> Walks the directory, identifies supported MIME types, and computes 64-bit unique IDs.</li>
              <li><strong>Processor:</strong> Generates optimized AVIF/JPEG thumbnails and 4-second video previews. Applies EXIF orientation.</li>
              <li><strong>Vision AI:</strong> Sends media to the configured provider (Ollama, OpenAI, Gemini) for structural analysis.</li>
              <li><strong>Embedder:</strong> Generates 1024D (default) vectors from descriptions using fastembed-rs.</li>
            </ol>

            <hr class="docs-divider">

            <h4>4. Operational Mode (serve)</h4>
            <p>Starts the Axum-based web server and REST API.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>hobbyboard serve</code></pre>
            </div>
            <ul>
              <li><strong>Default Port:</strong> 9625</li>
              <li><strong>Routes:</strong> Serves the Vanilla JS frontend from the binary (via rust-embed) or a local directory if <code>ui_path</code> is set.</li>
              <li><strong>Search:</strong> Handles hybrid queries (Semantic + FTS5) with configurable weights.</li>
              <li><strong>Auth:</strong> In the current version, access control is handled at the network/proxy layer.</li>
            </ul>

            <hr class="docs-divider">

            <h4>5. Maintenance &amp; Reset (cleanup.sh)</h4>
            <p>For developers or users needing a hard reset, a <code>cleanup.sh</code> utility is provided in the root of the repository.</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>./cleanup.sh</code></pre>
            </div>
            <ul>
              <li><strong>Destructive:</strong> Removes the SQLite database, wipes the local Qdrant storage directory, and clears all generated thumbnails in <code>dist/</code>.</li>
              <li><strong>Usage:</strong> Best used when switching between local development and Docker environments to ensure no stale volume data persists.</li>
            </ul>

            <hr class="docs-divider">

            <h4>Configuration (hobbyboard.toml)</h4>
            <p>While most settings are in the TOML, the CLI respects the following environment variables (usually stored in <code>.env</code>):</p>
            <ul>
              <li><code>OPENAI_API_KEY</code>: Required for OpenAI Vision.</li>
              <li><code>GEMINI_API_KEY</code>: Required for Google Gemini.</li>
              <li><code>RUST_LOG</code>: Controls verbosity (<code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>).</li>
            </ul>

            <h3>Logs</h3>
            <p>Logs are printed to stdout by default. In Docker, view them with:</p>
            <div class="code-block">
              <div class="code-header">Terminal</div>
              <pre><code>docker compose logs -f hobbyboard</code></pre>
            </div>
          </section>

          <section id="internals">
            <h2>Architecture</h2>
            <p>Hobbyboard is built with Rust for performance and safety. It uses a clean architecture separating the scanner, the AI pipeline, and the HTTP server.</p>
            <p>Data persistence relies on:</p>
            <ul>
              <li><strong>SQLite:</strong> Relational data (file paths, timestamps, tags).</li>
              <li><strong>Qdrant:</strong> High-performance vector similarity search.</li>
              <li><strong>FileSystem:</strong> Thumbnail cache in <code>dist/images</code>.</li>
            </ul>
            <p><em>Mermaid diagram — TBD.</em></p>
          </section>
        </article>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-left">
            <span class="footer-brand">HobbyBoard</span>
            <span class="copyright">&copy; 2026</span>
          </div>
          <div class="footer-center">
            Built with <span class="heart">♥</span> by <a href="https://aravindh.net" target="_blank">Aravindh Sampath</a>
          </div>
          <div class="footer-right">
            <a href="https://github.com/aravindhsampath/hobbyboard" target="_blank" class="footer-link">GitHub</a>
            <a href="/docs.html" class="footer-link">Docs</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="/js/app.js"></script>
  </body>
</html>
